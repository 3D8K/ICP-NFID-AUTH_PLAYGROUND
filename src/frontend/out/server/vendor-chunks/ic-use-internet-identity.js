"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/ic-use-internet-identity";
exports.ids = ["vendor-chunks/ic-use-internet-identity"];
exports.modules = {

/***/ "(ssr)/../../node_modules/ic-use-internet-identity/dist/index.js":
/*!*****************************************************************!*\
  !*** ../../node_modules/ic-use-internet-identity/dist/index.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   InternetIdentityContext: () => (/* binding */ InternetIdentityContext),\n/* harmony export */   InternetIdentityProvider: () => (/* binding */ InternetIdentityProvider),\n/* harmony export */   useInternetIdentity: () => (/* binding */ useInternetIdentity)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/../../node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var _dfinity_auth_client__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @dfinity/auth-client */ \"(ssr)/../../node_modules/@dfinity/auth-client/lib/esm/index.js\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react/jsx-runtime */ \"(ssr)/../../node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-runtime.js\");\n// src/index.tsx\n\n\n\n\nvar InternetIdentityContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)(void 0);\nvar useInternetIdentity = () => {\n  const context = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(InternetIdentityContext);\n  if (!context) {\n    throw new Error(\n      \"useInternetIdentity must be used within an InternetIdentityProvider\"\n    );\n  }\n  return context;\n};\nfunction InternetIdentityProvider({\n  createOptions,\n  loginOptions,\n  children\n}) {\n  const [state, setState] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({\n    isInitializing: true,\n    loginStatus: \"idle\"\n  });\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    (async () => {\n      const options = {\n        idleOptions: {\n          // Default behaviour of this hook is not to logout and reload window on indentity expiration\n          disableDefaultIdleCallback: true,\n          disableIdle: true,\n          ...createOptions?.idleOptions\n        },\n        ...createOptions\n      };\n      const authClient = await _dfinity_auth_client__WEBPACK_IMPORTED_MODULE_1__.AuthClient.create(options);\n      const isAuthenticated = await authClient.isAuthenticated();\n      setState((prevState) => ({\n        ...prevState,\n        authClient\n      }));\n      if (isAuthenticated) {\n        const identity = authClient.getIdentity();\n        if (identity) {\n          setState((prevState) => ({\n            ...prevState,\n            identity\n          }));\n        }\n      }\n      setState((prevState) => ({\n        ...prevState,\n        isInitializing: false\n      }));\n    })();\n  }, [createOptions]);\n  function onLoginSuccess() {\n    const identity = state.authClient?.getIdentity();\n    if (!identity) {\n      throw new Error(\"Identity not found after successful login\");\n    }\n    setState((prevState) => ({\n      ...prevState,\n      loginStatus: \"success\",\n      identity\n    }));\n  }\n  function onLoginError(error) {\n    setState((prevState) => ({\n      ...prevState,\n      loginStatus: \"error\",\n      loginError: new Error(error)\n    }));\n  }\n  async function login() {\n    if (!state.authClient) {\n      throw new Error(\"Auth client not initialized\");\n    }\n    if (await state.authClient.isAuthenticated()) {\n      throw new Error(\"User is already authenticated\");\n    }\n    setState((prevState) => ({\n      ...prevState,\n      loginStatus: \"logging-in\"\n    }));\n    const options = {\n      identityProvider: process.env.II_URL,\n      onSuccess: onLoginSuccess,\n      onError: onLoginError,\n      maxTimeToLive: BigInt(36e11),\n      // Defaults to 1 hour\n      ...loginOptions\n    };\n    state.authClient.login(options);\n  }\n  async function clear() {\n    if (!state.authClient) {\n      throw new Error(\"Auth client not initialized\");\n    }\n    await state.authClient.logout();\n    setState((prevState) => ({\n      ...prevState,\n      identity: void 0,\n      loginStatus: \"idle\"\n    }));\n  }\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\n    InternetIdentityContext.Provider,\n    {\n      value: {\n        isInitializing: state.isInitializing,\n        login,\n        loginStatus: state.loginStatus,\n        loginError: state.loginError,\n        isLoggingIn: state.loginStatus === \"logging-in\",\n        isLoginError: state.loginStatus === \"error\",\n        isLoginSuccess: state.loginStatus === \"success\",\n        isLoginIdle: state.loginStatus === \"idle\",\n        clear,\n        identity: state.identity\n      },\n      children\n    }\n  );\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL2ljLXVzZS1pbnRlcm5ldC1pZGVudGl0eS9kaXN0L2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBO0FBQzZEO0FBQzVCO0FBR0g7QUFDVTtBQUN4Qyw4QkFBOEIsb0RBQWE7QUFDM0M7QUFDQSxrQkFBa0IsaURBQVU7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCw0QkFBNEIsK0NBQVE7QUFDcEM7QUFDQTtBQUNBLEdBQUc7QUFDSCxFQUFFLGdEQUFTO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLCtCQUErQiw0REFBVTtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLHlCQUF5QixzREFBRztBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUtFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZnJvbnRlbmQvLi4vLi4vbm9kZV9tb2R1bGVzL2ljLXVzZS1pbnRlcm5ldC1pZGVudGl0eS9kaXN0L2luZGV4LmpzPzFmNjMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc3JjL2luZGV4LnRzeFxuaW1wb3J0IHsgY3JlYXRlQ29udGV4dCwgdXNlQ29udGV4dCwgdXNlRWZmZWN0IH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHtcbiAgQXV0aENsaWVudFxufSBmcm9tIFwiQGRmaW5pdHkvYXV0aC1jbGllbnRcIjtcbmltcG9ydCB7IGpzeCB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xudmFyIEludGVybmV0SWRlbnRpdHlDb250ZXh0ID0gY3JlYXRlQ29udGV4dCh2b2lkIDApO1xudmFyIHVzZUludGVybmV0SWRlbnRpdHkgPSAoKSA9PiB7XG4gIGNvbnN0IGNvbnRleHQgPSB1c2VDb250ZXh0KEludGVybmV0SWRlbnRpdHlDb250ZXh0KTtcbiAgaWYgKCFjb250ZXh0KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgXCJ1c2VJbnRlcm5ldElkZW50aXR5IG11c3QgYmUgdXNlZCB3aXRoaW4gYW4gSW50ZXJuZXRJZGVudGl0eVByb3ZpZGVyXCJcbiAgICApO1xuICB9XG4gIHJldHVybiBjb250ZXh0O1xufTtcbmZ1bmN0aW9uIEludGVybmV0SWRlbnRpdHlQcm92aWRlcih7XG4gIGNyZWF0ZU9wdGlvbnMsXG4gIGxvZ2luT3B0aW9ucyxcbiAgY2hpbGRyZW5cbn0pIHtcbiAgY29uc3QgW3N0YXRlLCBzZXRTdGF0ZV0gPSB1c2VTdGF0ZSh7XG4gICAgaXNJbml0aWFsaXppbmc6IHRydWUsXG4gICAgbG9naW5TdGF0dXM6IFwiaWRsZVwiXG4gIH0pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIChhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBvcHRpb25zID0ge1xuICAgICAgICBpZGxlT3B0aW9uczoge1xuICAgICAgICAgIC8vIERlZmF1bHQgYmVoYXZpb3VyIG9mIHRoaXMgaG9vayBpcyBub3QgdG8gbG9nb3V0IGFuZCByZWxvYWQgd2luZG93IG9uIGluZGVudGl0eSBleHBpcmF0aW9uXG4gICAgICAgICAgZGlzYWJsZURlZmF1bHRJZGxlQ2FsbGJhY2s6IHRydWUsXG4gICAgICAgICAgZGlzYWJsZUlkbGU6IHRydWUsXG4gICAgICAgICAgLi4uY3JlYXRlT3B0aW9ucz8uaWRsZU9wdGlvbnNcbiAgICAgICAgfSxcbiAgICAgICAgLi4uY3JlYXRlT3B0aW9uc1xuICAgICAgfTtcbiAgICAgIGNvbnN0IGF1dGhDbGllbnQgPSBhd2FpdCBBdXRoQ2xpZW50LmNyZWF0ZShvcHRpb25zKTtcbiAgICAgIGNvbnN0IGlzQXV0aGVudGljYXRlZCA9IGF3YWl0IGF1dGhDbGllbnQuaXNBdXRoZW50aWNhdGVkKCk7XG4gICAgICBzZXRTdGF0ZSgocHJldlN0YXRlKSA9PiAoe1xuICAgICAgICAuLi5wcmV2U3RhdGUsXG4gICAgICAgIGF1dGhDbGllbnRcbiAgICAgIH0pKTtcbiAgICAgIGlmIChpc0F1dGhlbnRpY2F0ZWQpIHtcbiAgICAgICAgY29uc3QgaWRlbnRpdHkgPSBhdXRoQ2xpZW50LmdldElkZW50aXR5KCk7XG4gICAgICAgIGlmIChpZGVudGl0eSkge1xuICAgICAgICAgIHNldFN0YXRlKChwcmV2U3RhdGUpID0+ICh7XG4gICAgICAgICAgICAuLi5wcmV2U3RhdGUsXG4gICAgICAgICAgICBpZGVudGl0eVxuICAgICAgICAgIH0pKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgc2V0U3RhdGUoKHByZXZTdGF0ZSkgPT4gKHtcbiAgICAgICAgLi4ucHJldlN0YXRlLFxuICAgICAgICBpc0luaXRpYWxpemluZzogZmFsc2VcbiAgICAgIH0pKTtcbiAgICB9KSgpO1xuICB9LCBbY3JlYXRlT3B0aW9uc10pO1xuICBmdW5jdGlvbiBvbkxvZ2luU3VjY2VzcygpIHtcbiAgICBjb25zdCBpZGVudGl0eSA9IHN0YXRlLmF1dGhDbGllbnQ/LmdldElkZW50aXR5KCk7XG4gICAgaWYgKCFpZGVudGl0eSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSWRlbnRpdHkgbm90IGZvdW5kIGFmdGVyIHN1Y2Nlc3NmdWwgbG9naW5cIik7XG4gICAgfVxuICAgIHNldFN0YXRlKChwcmV2U3RhdGUpID0+ICh7XG4gICAgICAuLi5wcmV2U3RhdGUsXG4gICAgICBsb2dpblN0YXR1czogXCJzdWNjZXNzXCIsXG4gICAgICBpZGVudGl0eVxuICAgIH0pKTtcbiAgfVxuICBmdW5jdGlvbiBvbkxvZ2luRXJyb3IoZXJyb3IpIHtcbiAgICBzZXRTdGF0ZSgocHJldlN0YXRlKSA9PiAoe1xuICAgICAgLi4ucHJldlN0YXRlLFxuICAgICAgbG9naW5TdGF0dXM6IFwiZXJyb3JcIixcbiAgICAgIGxvZ2luRXJyb3I6IG5ldyBFcnJvcihlcnJvcilcbiAgICB9KSk7XG4gIH1cbiAgYXN5bmMgZnVuY3Rpb24gbG9naW4oKSB7XG4gICAgaWYgKCFzdGF0ZS5hdXRoQ2xpZW50KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJBdXRoIGNsaWVudCBub3QgaW5pdGlhbGl6ZWRcIik7XG4gICAgfVxuICAgIGlmIChhd2FpdCBzdGF0ZS5hdXRoQ2xpZW50LmlzQXV0aGVudGljYXRlZCgpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVc2VyIGlzIGFscmVhZHkgYXV0aGVudGljYXRlZFwiKTtcbiAgICB9XG4gICAgc2V0U3RhdGUoKHByZXZTdGF0ZSkgPT4gKHtcbiAgICAgIC4uLnByZXZTdGF0ZSxcbiAgICAgIGxvZ2luU3RhdHVzOiBcImxvZ2dpbmctaW5cIlxuICAgIH0pKTtcbiAgICBjb25zdCBvcHRpb25zID0ge1xuICAgICAgaWRlbnRpdHlQcm92aWRlcjogcHJvY2Vzcy5lbnYuSUlfVVJMLFxuICAgICAgb25TdWNjZXNzOiBvbkxvZ2luU3VjY2VzcyxcbiAgICAgIG9uRXJyb3I6IG9uTG9naW5FcnJvcixcbiAgICAgIG1heFRpbWVUb0xpdmU6IEJpZ0ludCgzNmUxMSksXG4gICAgICAvLyBEZWZhdWx0cyB0byAxIGhvdXJcbiAgICAgIC4uLmxvZ2luT3B0aW9uc1xuICAgIH07XG4gICAgc3RhdGUuYXV0aENsaWVudC5sb2dpbihvcHRpb25zKTtcbiAgfVxuICBhc3luYyBmdW5jdGlvbiBjbGVhcigpIHtcbiAgICBpZiAoIXN0YXRlLmF1dGhDbGllbnQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkF1dGggY2xpZW50IG5vdCBpbml0aWFsaXplZFwiKTtcbiAgICB9XG4gICAgYXdhaXQgc3RhdGUuYXV0aENsaWVudC5sb2dvdXQoKTtcbiAgICBzZXRTdGF0ZSgocHJldlN0YXRlKSA9PiAoe1xuICAgICAgLi4ucHJldlN0YXRlLFxuICAgICAgaWRlbnRpdHk6IHZvaWQgMCxcbiAgICAgIGxvZ2luU3RhdHVzOiBcImlkbGVcIlxuICAgIH0pKTtcbiAgfVxuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChcbiAgICBJbnRlcm5ldElkZW50aXR5Q29udGV4dC5Qcm92aWRlcixcbiAgICB7XG4gICAgICB2YWx1ZToge1xuICAgICAgICBpc0luaXRpYWxpemluZzogc3RhdGUuaXNJbml0aWFsaXppbmcsXG4gICAgICAgIGxvZ2luLFxuICAgICAgICBsb2dpblN0YXR1czogc3RhdGUubG9naW5TdGF0dXMsXG4gICAgICAgIGxvZ2luRXJyb3I6IHN0YXRlLmxvZ2luRXJyb3IsXG4gICAgICAgIGlzTG9nZ2luZ0luOiBzdGF0ZS5sb2dpblN0YXR1cyA9PT0gXCJsb2dnaW5nLWluXCIsXG4gICAgICAgIGlzTG9naW5FcnJvcjogc3RhdGUubG9naW5TdGF0dXMgPT09IFwiZXJyb3JcIixcbiAgICAgICAgaXNMb2dpblN1Y2Nlc3M6IHN0YXRlLmxvZ2luU3RhdHVzID09PSBcInN1Y2Nlc3NcIixcbiAgICAgICAgaXNMb2dpbklkbGU6IHN0YXRlLmxvZ2luU3RhdHVzID09PSBcImlkbGVcIixcbiAgICAgICAgY2xlYXIsXG4gICAgICAgIGlkZW50aXR5OiBzdGF0ZS5pZGVudGl0eVxuICAgICAgfSxcbiAgICAgIGNoaWxkcmVuXG4gICAgfVxuICApO1xufVxuZXhwb3J0IHtcbiAgSW50ZXJuZXRJZGVudGl0eUNvbnRleHQsXG4gIEludGVybmV0SWRlbnRpdHlQcm92aWRlcixcbiAgdXNlSW50ZXJuZXRJZGVudGl0eVxufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/ic-use-internet-identity/dist/index.js\n");

/***/ })

};
;